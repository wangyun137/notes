# C语言编译补充（一）

## 预处理器选项 (Preprocessor Option)
下列选项针对C预处理器,预处理器用在正式编译以前,对C 源文件进行某种处理.
如果指定了`-E`选项, `GCC`只进行预处理工作.下面的某些选项必须和`-E`选项一起才 有意义,因为他们的输出结果不能用于编译

### -include file
+ 在处理常规输入文件之前，首先处理文件`file`,其结果是,文件`file`的内容先得到编译，命令行上任何`-D`和`-U`选项永远在`-include file`之前处理，无论他们在命令行上的顺序如何
+ `-include`和`-imacros`选项书写顺序书写

### -imacros file
+ 在处理常规输入文件之前，首先处理文件`file`,但是忽略输出结果，由于丢弃了文件`file`的输出内容，`-imacros file`选项的唯一效果就是使文件`file`中的宏定义生效，可以用于其他输入文件.在处理`-imacrosfile`选项之前,预处理器首先处理`-D' 和`-U'选项,并不在乎他们在命令行上的顺序

### -dirafter dir
+ 把目录`dir`添加到第二包含路径中，如果某个头文件在主包含路径（用`-I`添加的路径）中没有找到，预处理器就搜索第二包含路径

### -iprefix prefix
+ 指定`prefix`作为后续`-iwithprefix`的前缀

### -iwithprefix dir
+ 把目录添加到第二包含路径中，目录名由`prefix`和`dir`合并而成，这里`prefix`被先前的`-iprefix`选项指定

### -nostdinc
+ 不要在标准系统目录中寻找头文件，只搜索`-I`选项指定的目录（以及当前目录，如果合适）
+ 结合使用`-nostdinc`和`-I-`选项，你可以把包含文件搜索限制在显示指定的目录

### -nostdinc++
+ 不要在`C++`专用标准目录中寻找头文件，但是仍然搜索其他标准目录(当建立`libg++`时使用这个选项)

### -undef
+ 不要预定义任何非标准宏（包括系统结构标志）

### -E
+ 仅运行C预处理器，预处理所有指定的`C`源文件，结果送往标准输出或指定的输出文件

### -C
+ 告诉预处理器不要丢弃注释，配合`-E`选项使用

### -P
+ 告诉预处理器不要产生`#line`命令，配合`-E`选项使用

### -M [-MG]
+ 告诉预处理器输出一个适合`make`的规则，用于描述各目标文件的依赖关系，对于每个源文件，预处理器输出一个`make`规则,该规则的目标项（`target`）是源文件对应的目标文件名，依赖项(`dependency`)是源文件中`#include`引用｀的所有文件，生成的规则可以是单行，但如果太长，就用`\`换行符续成多行
+ 规则线是在标准输出，不产生预处理过的`C`程序
+ `-M`选项隐含了`-E`选项
+ `-MG`要求把缺失的头文件按存在对待，并且假定他们和源程序文件在同一目录下，必须和`-M`选项一起用

### -MM [-MG]
+ 和`-M`类似，但是输出结果仅涉及用户头文件，像`#include "file"`,忽略系统头文件如`#include <file>`

### -MD
+ 和`-M`类似，但是把依赖信息输出在文件中，文件名通过把输出文件末尾的`.o`替换为`.d`产生
+ 同时继续指定的编译工作
+ `-MD`不像`-M`那样阻止正常的编译任务
+ `Mach`的实用工具`md`能够合并`.d`文件，产生适用于`make`命令的单一的依赖文件

### -MMD
+ 和`-MD`类似，但是输出结果仅涉及用户头文件，忽略系统头文件

### -H
除了其他普通的操作，GCC显示引用过的头文件名

### -Aquestion(answer)
+ 如果预处理器做条件测试，如`#if #question(answer)`,该选项可以断言(`assert`)`question`的答案是`answer`
+ `-A-`关闭一般用于描述目标机的标准断言

### -Dmacro
+ 定义宏`macro`,红的内容定义为字符串`1`

### -Dmacro=defn
+ 定义宏`macro`的内容为`defn`,命令行上的所有的`-D`选项在`-U`选项**之前处理**

### -Umacro
+ 取消宏`macro`
+ `-U`选项在所有的`-D`选项**之后处理**,但是优先于任何`-include`或`-imacros`选项

### -dM
+ 告诉预处理器输出有效的共定义列表（预处理结束时仍然有效的宏定义），该选项需结合`-E`选项使用

### -dD
+ 告诉预处理器把所有的宏定义传递到输出端，按照出现的顺序显示

### -dN
+ 和`-dD`选项类似，但是忽略宏的参量或内容，只是输出端显示`#define name`


## 汇编器选项(ASSEMBLER OPTION)

### -wa, option
+ 把选项`option`传递给汇编器，如果`option`含有逗号，就在逗号处分割成多个选项
